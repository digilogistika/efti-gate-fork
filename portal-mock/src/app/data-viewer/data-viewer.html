@if (eftiData) {
  <div class="p-4 md:p-6 bg-white">

    <!-- Section for Consignment Overview -->
    <div class="mt-6 pt-6 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
      <h3 class="text-xl font-semibold text-gray-800 mb-4 pb-3 border-b border-gray-200">Consignment Overview</h3>
      @if (hasConsignmentOverviewData()) {
        <div class="divide-y divide-gray-200">
          <app-display-field label="Payment Arrangement" [value]="eftiData.paymentArrangementCode"></app-display-field>
          <app-display-field label="COD Amount" [value]="eftiData.codamount"></app-display-field>
          <app-display-field label="Declared Value for Carriage" [value]="eftiData.declaredValueForCarriageAmount"></app-display-field>
          <app-display-field label="Contract Terms" [value]="eftiData.contractTermsText"></app-display-field>
          <app-display-field label="Cargo Insurance Instructions" [value]="eftiData.cargoInsuranceInstructions"></app-display-field>
          <app-display-field label="Consignor Provided Information" [value]="eftiData.consignorProvidedInformationText"></app-display-field>
          <app-display-field label="Additional Information" [value]="eftiData.information"></app-display-field>
          <app-display-field label="Delivery Information" [value]="eftiData.deliveryInformation"></app-display-field>
          <app-display-field label="Border Clearance Instructions" [value]="eftiData.consignorProvidedBorderClearanceInstructions"></app-display-field>
          <app-display-field label="Nature of Cargo" [value]="eftiData.natureIdentificationCargo?.identificationText"></app-display-field>
          <app-display-field label="Nature of Cargo Type" [value]="eftiData.natureIdentificationCargo?.typeCode"></app-display-field>
          <app-display-field label="Operational Category" [value]="eftiData.natureIdentificationCargo?.operationalCategoryCode"></app-display-field>
          <app-display-field label="Statistical Classification" [value]="eftiData.natureIdentificationCargo?.statisticalClassificationCode"></app-display-field>
          <app-display-field label="Gross Weight" [value]="eftiData.grossWeight"></app-display-field>
          <app-display-field label="Net Weight" [value]="eftiData.netWeight"></app-display-field>
          <app-display-field label="Gross Volume" [value]="eftiData.grossVolume"></app-display-field>
          <app-display-field label="Number of Packages" [value]="eftiData.numberOfPackages"></app-display-field>
          <app-display-field label="Transport Equipment Quantity" [value]="eftiData.transportEquipmentQuantity"></app-display-field>
          <app-display-field label="Transshipment Permitted" [value]="eftiData.transshipmentPermittedIndicator"></app-display-field>
        </div>
      } @else {
        <p class="italic text-gray-500 mt-2">No consignment overview information provided.</p>
      }
    </div>

    <!-- Section for Participants -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold mb-4">Participants</h3>
      @if(eftiData.consignor || eftiData.consignee || eftiData.carrier || eftiData.connectingCarrier?.length || eftiData.freightForwarder || eftiData.associatedParty?.length) {
        @if (eftiData.consignor) { <app-party-details [party]="eftiData.consignor" title="Consignor"></app-party-details> }
        @if (eftiData.consignee) { <app-party-details [party]="eftiData.consignee" title="Consignee"></app-party-details> }
        @if (eftiData.carrier) { <app-party-details [party]="eftiData.carrier" title="Carrier"></app-party-details> }
        @for(party of eftiData.connectingCarrier; track party.id?.value) { <app-party-details [party]="party" title="Connecting Carrier"></app-party-details> }
        @if (eftiData.freightForwarder) { <app-party-details [party]="eftiData.freightForwarder" title="Freight Forwarder"></app-party-details> }
        @for(party of eftiData.associatedParty; track party.id?.value) { <app-party-details [party]="party" title="Associated Party"></app-party-details> }
      } @else {
        <p class="italic text-gray-500 mt-2">No participant information provided.</p>
      }
    </div>

    <!-- Section for Transport Packages -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Transport Packages</h3>
      @if (eftiData.transportPackage?.length) {
        @for(pkg of eftiData.transportPackage; track $index; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Package {{ i + 1 }}</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="Type Code" [value]="pkg.typeCode"></app-display-field>
              <app-display-field label="Type Text" [value]="pkg.typeText"></app-display-field>
              <app-display-field label="Item Quantity" [value]="pkg.itemQuantity"></app-display-field>
              <app-display-field label="Information" [value]="pkg.information"></app-display-field>
              <app-display-field label="Shipping Marks" [value]="pkg.shippingMarks"></app-display-field>
              <app-display-field label="Stated Condition" [value]="pkg.statedCondition"></app-display-field>
            </div>
            @if (pkg.referencedDocument && pkg.referencedDocument.length > 0) {
              <div class="col-span-1 md:col-span-2 mt-3 pt-3 border-t border-dashed border-gray-200">
                <h5 class="text-sm font-semibold text-gray-800 mb-2">Referenced Documents</h5>
                @for(doc of pkg.referencedDocument; track doc.id?.value) {
                  <div class="p-3 mb-2 last:mb-0 border border-gray-100 rounded-md bg-gray-50/50">
                    <div class="divide-y divide-gray-200">
                      <app-display-field label="ID" [value]="doc.id"></app-display-field>
                      <app-display-field label="Reference Type" [value]="doc.referenceTypeCode"></app-display-field>
                      <app-display-field label="Document Type" [value]="doc.typeCode"></app-display-field>
                      <app-display-field label="Subtype" [value]="doc.subtypeCode"></app-display-field>
                      <app-display-field label="Issue Date" [value]="doc.formattedIssueDateTime"></app-display-field>
                      <app-display-field label="Binary Objects" [value]="doc.attachedBinaryObject"></app-display-field>
                      <app-display-field label="Clauses" [value]="doc.contractualClause"></app-display-field>
                      <app-display-field label="Document URI" [value]="doc.uri"></app-display-field>
                      <app-display-field label="Attached Files" [value]="doc.attachedBinaryFile"></app-display-field>
                    </div>
                    @if (doc.issuer) {
                      <div class="mt-3 pt-3 border-t border-dashed">
                        <h5 class="text-sm font-semibold text-gray-800 mb-1">Issuer</h5>
                        <div class="divide-y divide-gray-200">
                          <app-display-field label="Name" [value]="doc.issuer"></app-display-field>
                          <app-display-field label="Address" [value]="doc.issuer.postalAddress"></app-display-field>
                        </div>
                      </div>
                    }
                    @if (doc.issueLocation) {
                      <div class="mt-3 pt-3 border-t border-dashed">
                        <h5 class="text-sm font-semibold text-gray-800 mb-1">Issue Location</h5>
                        <div class="divide-y divide-gray-200">
                          <app-display-field label="Details" [value]="doc.issueLocation"></app-display-field>
                        </div>
                      </div>
                    }
                  </div>
                }
              </div>
            }
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No transport package information provided.</p>
      }
    </div>

    <!-- Section for Consignment Items -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Consignment Items</h3>
      @if (eftiData.includedConsignmentItem?.length) {
        @for(item of eftiData.includedConsignmentItem; track $index; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Item {{ i + 1 }}</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="Goods Unit Quantity" [value]="item.goodsUnitQuantity"></app-display-field>
              <app-display-field label="Gross Volume" [value]="item.grossVolume"></app-display-field>
              <app-display-field label="Dimensions" [value]="item.dimensions"></app-display-field>
              <app-display-field label="Associated Equipment IDs" [value]="item.associatedTransportEquipment"></app-display-field>
            </div>
            @if (item.transportDangerousGoods && item.transportDangerousGoods.length > 0) {
              <div class="mt-3 pt-3 border-t border-dashed border-red-200">
                <h5 class="text-sm font-semibold text-red-800 mb-2">Dangerous Goods Details</h5>
                @for(dg of item.transportDangerousGoods; track $index) {
                  <div class="bg-red-50 p-3 rounded-md mb-2 last:mb-0">
                    <div class="divide-y divide-red-200">
                      <app-display-field label="UN ID" [value]="dg.undgid"></app-display-field>
                      <app-display-field label="Proper Shipping Name" [value]="dg.properShippingName"></app-display-field>
                      <app-display-field label="Hazard Class" [value]="dg.hazardClassificationID"></app-display-field>
                      <app-display-field label="Packaging Group" [value]="dg.packagingDangerLevelCode"></app-display-field>
                      <app-display-field label="Gross Weight" [value]="dg.grossWeight"></app-display-field>
                      <app-display-field label="Technical Name" [value]="dg.technicalName"></app-display-field>
                    </div>
                  </div>
                }
              </div>
            }
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No consignment item information provided.</p>
      }
    </div>

    <!-- Section for Documents & References -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4 pb-3 border-b border-gray-200">Documents & References</h3>
      @if(eftiData.transportContractDocument || eftiData.associatedDocument?.length) {
        @if(eftiData.transportContractDocument; as doc) {
          <div class="mt-4 first:mt-0">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Transport Contract Document</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="ID" [value]="doc.id"></app-display-field>
              <app-display-field label="Reference Type" [value]="doc.referenceTypeCode"></app-display-field>
              <app-display-field label="Document Type" [value]="doc.typeCode"></app-display-field>
              <app-display-field label="Subtype" [value]="doc.subtypeCode"></app-display-field>
              <app-display-field label="Issue Date" [value]="doc.formattedIssueDateTime"></app-display-field>
              <app-display-field label="Clauses" [value]="doc.contractualClause"></app-display-field>
              <app-display-field label="Binary Objects" [value]="doc.attachedBinaryObject"></app-display-field>
              <app-display-field label="Document URI" [value]="doc.uri"></app-display-field>
              <app-display-field label="Attached Files" [value]="doc.attachedBinaryFile"></app-display-field>
            </div>
            @if (doc.issuer) {
              <div class="mt-3 pt-3 border-t border-dashed">
                <h5 class="text-sm font-semibold text-gray-800 mb-1">Issuer</h5>
                <div class="divide-y divide-gray-200">
                  <app-display-field label="Name" [value]="doc.issuer"></app-display-field>
                  <app-display-field label="Address" [value]="doc.issuer.postalAddress"></app-display-field>
                </div>
              </div>
            }
            @if (doc.issueLocation) {
              <div class="mt-3 pt-3 border-t border-dashed">
                <h5 class="text-sm font-semibold text-gray-800 mb-1">Issue Location</h5>
                <div class="divide-y divide-gray-200">
                  <app-display-field label="Details" [value]="doc.issueLocation"></app-display-field>
                </div>
              </div>
            }
          </div>
        }
        @for(doc of eftiData.associatedDocument; track doc.id?.value) {
          <div class="mt-4 pt-4 border-t border-gray-200">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Associated Document</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="ID" [value]="doc.id"></app-display-field>
              <app-display-field label="Reference Type" [value]="doc.referenceTypeCode"></app-display-field>
              <app-display-field label="Document Type" [value]="doc.typeCode"></app-display-field>
              <app-display-field label="Subtype" [value]="doc.subtypeCode"></app-display-field>
              <app-display-field label="Issue Date" [value]="doc.formattedIssueDateTime"></app-display-field>
              <app-display-field label="Clauses" [value]="doc.contractualClause"></app-display-field>
              <app-display-field label="Binary Objects" [value]="doc.attachedBinaryObject"></app-display-field>
              <app-display-field label="Document URI" [value]="doc.uri"></app-display-field>
              <app-display-field label="Attached Files" [value]="doc.attachedBinaryFile"></app-display-field>
            </div>
            @if (doc.issuer) {
              <div class="mt-3 pt-3 border-t border-dashed">
                <h5 class="text-sm font-semibold text-gray-800 mb-1">Issuer</h5>
                <div class="divide-y divide-gray-200">
                  <app-display-field label="Name" [value]="doc.issuer"></app-display-field>
                  <app-display-field label="Address" [value]="doc.issuer.postalAddress"></app-display-field>
                </div>
              </div>
            }
            @if (doc.issueLocation) {
              <div class="mt-3 pt-3 border-t border-dashed">
                <h5 class="text-sm font-semibold text-gray-800 mb-1">Issue Location</h5>
                <div class="divide-y divide-gray-200">
                  <app-display-field label="Details" [value]="doc.issueLocation"></app-display-field>
                </div>
              </div>
            }
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No document information provided.</p>
      }
    </div>

    <!-- Section for Journey Details -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4 pb-3 border-b border-gray-200">Journey Details</h3>
      @if(hasJourneyDetailsData()) {
        <div class="divide-y divide-gray-200">
          <app-display-field label="Carrier Acceptance Location" [value]="eftiData.carrierAcceptanceLocation"></app-display-field>
          <app-display-field label="Carrier Acceptance Date/Time" [value]="eftiData.carrierAcceptanceDateTime"></app-display-field>
          <app-display-field label="Consignee Receipt Location" [value]="eftiData.consigneeReceiptLocation"></app-display-field>
          <app-display-field label="Final Delivery Event" [value]="eftiData.deliveryEvent"></app-display-field>
          <app-display-field label="Transshipment Location(s)" [value]="eftiData.transshipmentLocation"></app-display-field>
          <app-display-field label="Regulatory Procedures" [value]="eftiData.regulatoryProcedure"></app-display-field>
        </div>

        <h4 class="text-lg font-semibold text-gray-700 my-3 pt-3 border-t border-dashed">Transport Movements</h4>
        <div class="flex flex-col gap-4">
          @for(movement of eftiData.preCarriageTransportMovement; track movement.id?.value) { <app-transport-movement [movement]="movement" title="Pre-Carriage"></app-transport-movement> }
          @for(movement of eftiData.mainCarriageTransportMovement; track movement.id?.value) { <app-transport-movement [movement]="movement" title="Main Carriage"></app-transport-movement> }
          @for(movement of eftiData.onCarriageTransportMovement; track movement.id?.value) { <app-transport-movement [movement]="movement" title="On-Carriage"></app-transport-movement> }
          @for(movement of eftiData.specifiedTransportMovement; track movement.id?.value) { <app-transport-movement [movement]="movement" title="Specified Movement"></app-transport-movement> }
        </div>
      } @else {
        <p class="italic text-gray-500 mt-2">No journey detail information provided.</p>
      }
    </div>

    <!-- Section for Service Charges -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Service Charges</h3>
      @if(eftiData.applicableServiceCharge?.length) {
        @for(charge of eftiData.applicableServiceCharge; track charge.id; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Service Charge {{ i + 1 }}</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="ID" [value]="charge.id"></app-display-field>
              <app-display-field label="Amount" [value]="charge.appliedAmount"></app-display-field>
              <app-display-field label="Payment" [value]="charge.paymentArrangementCode"></app-display-field>
              <app-display-field label="Category" [value]="charge.calculationBasisPrice?.categoryTypeCode"></app-display-field>
              <app-display-field label="Paying Party" [value]="charge.payingPartyRoleCode"></app-display-field>
              <app-display-field label="Basis" [value]="charge.calculationBasisCode"></app-display-field>
              <app-display-field label="Basis Quantity" [value]="charge.calculationBasisPrice?.basisQuantity"></app-display-field>
              <app-display-field label="Unit Amount" [value]="charge.calculationBasisPrice?.unitAmount"></app-display-field>
            </div>
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No service charge information provided.</p>
      }
    </div>

    <!-- Section for Dangerous Goods -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4 pb-3 border-b border-gray-200">Dangerous Goods</h3>
      @if (eftiData.dangerousGoods; as dg) {
        <div class="divide-y divide-gray-200">
          <app-display-field label="UN ID" [value]="dg.undgid"></app-display-field>
          <app-display-field label="Proper Shipping Name" [value]="dg.properShippingName"></app-display-field>
          <app-display-field label="Technical Name" [value]="dg.technicalName"></app-display-field>
          <app-display-field label="Hazard Class" [value]="dg.hazardClassificationID"></app-display-field>
          <app-display-field label="Hazard Category" [value]="dg.hazardCategoryCode"></app-display-field>
          <app-display-field label="Hazard Types" [value]="dg.hazardTypeCode"></app-display-field>
          <app-display-field label="Packaging Group" [value]="dg.packagingDangerLevelCode"></app-display-field>
          <app-display-field label="Label Types" [value]="dg.labelTypeCode"></app-display-field>
          <app-display-field label="Limited Quantity" [value]="dg.limitedQuantityCode"></app-display-field>
          <app-display-field label="Gross Weight" [value]="dg.grossWeight"></app-display-field>
          <app-display-field label="Net Weight" [value]="dg.netWeight"></app-display-field>
          <app-display-field label="Explosive Net Weight" [value]="dg.explosiveCargoNetWeight"></app-display-field>
          <app-display-field label="Gross Volume" [value]="dg.grossVolume"></app-display-field>
          <app-display-field label="Density" [value]="dg.densityMeasure"></app-display-field>
          <app-display-field label="Reportable Quantity" [value]="dg.reportableQuantity"></app-display-field>
          <app-display-field label="Control Temperature" [value]="dg.controlTemperature"></app-display-field>
          <app-display-field label="Emergency Temperature" [value]="dg.emergencyTemperature"></app-display-field>
          <app-display-field label="Melting Point" [value]="dg.meltingPointTemperatureMeasure"></app-display-field>
          <app-display-field label="Tunnel Restriction Code" [value]="dg.tunnelRestrictionCode"></app-display-field>
          <app-display-field label="Regulatory Authority" [value]="dg.regulatoryAuthorityName"></app-display-field>
          <app-display-field label="Special Provision ID" [value]="dg.specialProvisionID"></app-display-field>
          <app-display-field label="Regulatory Exemptions" [value]="dg.applicableRegulatoryExemption"></app-display-field>
          <app-display-field label="Radioactive Material" [value]="dg.radioactiveMaterial"></app-display-field>
          <app-display-field label="Additional Information" [value]="dg.information"></app-display-field>
          <app-display-field label="Supplementary Information" [value]="dg.supplementaryInformation"></app-display-field>
          <app-display-field label="Previous Cargo Information" [value]="dg.previousCargoInformation"></app-display-field>
          <app-display-field label="Technical Name Notes" [value]="dg.technicalNameNote"></app-display-field>
          <app-display-field label="Stated Conditions" [value]="dg.statedCondition"></app-display-field>
          <app-display-field label="Included Fuels" [value]="dg.includedFuel"></app-display-field>
          <app-display-field label="Related Documents" [value]="dg.relatedDocument"></app-display-field>
          <app-display-field label="Logistics Packages" [value]="dg.dangerousGoodsLogisticsPackage"></app-display-field>
        </div>
      } @else {
        <p class="italic text-gray-500 mt-2">No dangerous goods information provided.</p>
      }
    </div>

    <!-- Section for Transport Equipment Details -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Transport Equipment</h3>
      @if (eftiData.usedTransportEquipment?.length) {
        @for(equip of eftiData.usedTransportEquipment; track equip.id?.value; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Equipment {{ i + 1 }}</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="ID" [value]="equip.id"></app-display-field>
              <app-display-field label="Sequence Number" [value]="equip.sequenceNumber"></app-display-field>
              <app-display-field label="Size/Type" [value]="equip.sizeTypeCode"></app-display-field>
              <app-display-field label="Category" [value]="equip.categoryCode"></app-display-field>
              <app-display-field label="Status" [value]="equip.fullEmptyCode"></app-display-field>
              <app-display-field label="Gross Volume" [value]="equip.grossVolume"></app-display-field>
              <app-display-field label="Seal Quantity" [value]="equip.sealQuantity"></app-display-field>
              <app-display-field label="Seal Details" [value]="equip.affixedSeal"></app-display-field>
              <app-display-field label="Operating Party" [value]="equip.operatingParty"></app-display-field>
              <app-display-field label="Owner(s)" [value]="equip.ownerParty"></app-display-field>
              <app-display-field label="Registration Country" [value]="equip.registrationCountry"></app-display-field>
              <app-display-field label="Stowage Position" [value]="equip.stowagePosition"></app-display-field>
              <app-display-field label="Gross Goods Weight" [value]="equip.grossGoodsWeightMeasure"></app-display-field>
              <app-display-field label="Net Goods Weight" [value]="equip.netGoodsWeightMeasure"></app-display-field>
              <app-display-field label="Gross Goods Volume" [value]="equip.grossGoodsVolumeMeasure"></app-display-field>
              <app-display-field label="Net Goods Volume" [value]="equip.netGoodsVolumeMeasure"></app-display-field>
              <app-display-field label="Reportable Quantity" [value]="equip.reportableQuantity"></app-display-field>
              <app-display-field label="Dangerous Goods (Summary)" [value]="equip.loadedDangerousGoods"></app-display-field>
            </div>

            @for(carried of equip.carriedTransportEquipment; track carried.id?.value) {
              <div class="mt-4 pt-4 pl-4 border-t border-dashed border-gray-200">
                <h5 class="text-sm font-semibold text-gray-800 mb-2">Carried Goods/Equipment</h5>
                <div class="divide-y divide-gray-200">
                  <app-display-field label="ID" [value]="carried.id"></app-display-field>
                  <app-display-field label="Sequence" [value]="carried.sequenceNumber"></app-display-field>
                  <app-display-field label="Stowage Position" [value]="carried.stowagePositionID"></app-display-field>
                  <app-display-field label="Item Unit Quantity" [value]="carried.goodsItemUnitQuantity"></app-display-field>
                  <app-display-field label="Reportable Quantity" [value]="carried.reportableQuantity"></app-display-field>
                  <app-display-field label="Category Codes" [value]="carried.categoryCode"></app-display-field>
                  <app-display-field label="Gross Weight (Total)" [value]="carried.grossWeight"></app-display-field>
                  <app-display-field label="Verified Gross Weight" [value]="carried.verifiedGrossWeight"></app-display-field>
                  <app-display-field label="Verification Method" [value]="carried.weightVerificationMethodCode"></app-display-field>
                  <app-display-field label="Verifier" [value]="carried.weightVerifierParty"></app-display-field>
                  <app-display-field label="Used Capacity" [value]="carried.usedCapacityCode"></app-display-field>
                  <app-display-field label="Gross Goods Weight" [value]="carried.grossGoodsWeightMeasure"></app-display-field>
                  <app-display-field label="Net Goods Weight" [value]="carried.netGoodsWeightMeasure"></app-display-field>
                  <app-display-field label="Gross Goods Volume" [value]="carried.grossGoodsVolumeMeasure"></app-display-field>
                  <app-display-field label="Net Goods Volume" [value]="carried.netGoodsVolumeMeasure"></app-display-field>
                  <app-display-field label="Affixed Seals" [value]="carried.affixedSeal"></app-display-field>
                </div>
                @if (carried.loadedDangerousGoods && carried.loadedDangerousGoods.length > 0) {
                  <div class="mt-3 pt-3 border-t border-dashed border-red-200">
                    <h5 class="text-sm font-semibold text-red-800 mb-2">Loaded Dangerous Goods</h5>
                    @for(dg of carried.loadedDangerousGoods; track $index) {
                      <div class="bg-red-50 p-3 rounded-md mb-2 last:mb-0">
                        <div class="divide-y divide-red-200">
                          <app-display-field label="UN ID" [value]="dg.undgid"></app-display-field>
                          <app-display-field label="Proper Shipping Name" [value]="dg.properShippingName"></app-display-field>
                          <app-display-field label="Hazard Class" [value]="dg.hazardClassificationID"></app-display-field>
                        </div>
                      </div>
                    }
                  </div>
                }
              </div>
            }
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No transport equipment details provided.</p>
      }
    </div>

    <!-- Section for Logistics and Security -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Logistics and Security</h3>
      @if (eftiData.logisticsRiskAnalysisResult?.length) {
        @for(result of eftiData.logisticsRiskAnalysisResult; track $index) {
          <div class="divide-y divide-gray-200 mt-2 pt-2 border-t first:border-none">
            <app-display-field label="Risk Analysis" [value]="result.description"></app-display-field>
            <app-display-field label="Risk Code" [value]="result.consignmentRiskRelatedCode"></app-display-field>
            <app-display-field label="Screening Method" [value]="result.screeningMethodCode"></app-display-field>
            <app-display-field label="Security Exemption" [value]="result.securityExemptionCode"></app-display-field>
            <app-display-field label="Level Code" [value]="result.levelCode"></app-display-field>
            <app-display-field label="Information" [value]="result.informationText"></app-display-field>
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No logistics and security information provided.</p>
      }
    </div>

    <!-- Section for Notified Waste Materials -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Notified Waste Materials</h3>
      @if (eftiData.notifiedWasteMaterial?.length) {
        @for(material of eftiData.notifiedWasteMaterial; track $index; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Material {{ i + 1 }}</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="ID" [value]="material.id"></app-display-field>
              <app-display-field label="Weight" [value]="material.weight"></app-display-field>
            </div>
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No notified waste material information provided.</p>
      }
    </div>

    <!-- Section for Transport Services -->
    <div class="mt-6 pt-6 border-t border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Transport Services</h3>
      @if (eftiData.transportService?.length) {
        @for(service of eftiData.transportService; track $index; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h4 class="text-base font-semibold text-gray-600 mb-2">Service {{ i + 1 }}</h4>
            <div class="divide-y divide-gray-200">
              <app-display-field label="Description" [value]="service.description"></app-display-field>
              <app-display-field label="Condition Type Codes" [value]="service.conditionTypeCode"></app-display-field>
            </div>
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No transport service information provided.</p>
      }
    </div>

    <!-- Other Transport Events -->
    <div class="mt-6 pt-6 border-t border-gray-300">
      <h4 class="text-lg font-semibold text-gray-700 mb-2">Other Transport Events</h4>
      @if(eftiData.transportEvent?.length) {
        @for(evt of eftiData.transportEvent; track $index; let i = $index) {
          <div class="mt-4 pt-4 border-t border-gray-200 first:mt-0 first:pt-0 first:border-none">
            <h5 class="text-base font-semibold text-gray-600 mb-2">Event {{ i + 1 }} ({{ evt.typeCode || 'General' }})</h5>
            <div class="divide-y divide-gray-200">
              <app-display-field label="Location" [value]="evt.occurrenceLocation"></app-display-field>
              <app-display-field label="Actual Time" [value]="evt.actualOccurrenceDateTime"></app-display-field>
              <app-display-field label="Estimated Time" [value]="evt.estimatedOccurrenceDateTime"></app-display-field>
              <app-display-field label="Scheduled Time" [value]="evt.scheduledOccurrenceDateTime"></app-display-field>
              <app-display-field label="Requested Time" [value]="evt.requestedOccurrenceDateTime"></app-display-field>
              <app-display-field label="Scheduled Period" [value]="evt.scheduledOccurrencePeriod"></app-display-field>
              <app-display-field label="Certifying Party" [value]="evt.certifyingParty"></app-display-field>
              <app-display-field label="Observations" [value]="evt.relatedObservation"></app-display-field>
              <app-display-field label="Security Measures" [value]="evt.additionalSecurityMeasures"></app-display-field>
            </div>
          </div>
        }
      } @else {
        <p class="italic text-gray-500 mt-2">No other transport events provided.</p>
      }
    </div>

  </div>
} @else {
  <div class="p-6 text-center text-gray-500">
    <p>eFTI data is not available or is loading.</p>
  </div>
}
